{
  "comments": [
    {
      "key": {
        "uuid": "9f560f44_1803fd11",
        "filename": "zuul/zk/zuul.py",
        "patchSetId": 27
      },
      "lineNbr": 26,
      "author": {
        "id": 9311
      },
      "writtenOn": "2020-09-08T19:51:22Z",
      "side": 1,
      "message": "I\u0027m not a huge fan of adding such code for IDE type checking support. Perhaps this is a symptom of using a Mixin, would it be more appropriate to use functions instead and replace self by a zuul.zk.ZooKeeper instance?",
      "revId": "1af48464ac1cbde986efce3d092b975a48232ab0",
      "serverId": "4a232e18-c5a9-48ee-94c0-e04e7cca6543",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "9f560f44_fbbb82c0",
        "filename": "zuul/zk/zuul.py",
        "patchSetId": 27
      },
      "lineNbr": 26,
      "author": {
        "id": 30637
      },
      "writtenOn": "2020-09-10T08:07:50Z",
      "side": 1,
      "message": "Yes, thats because of the mixin approach. I was trying the function approach too. But did not like the result either. I am open to suggestions. The goal here was to break up the ZooKeeper God-Class. This will become even a larger one due to the focus on Zookeeper as a central component",
      "parentUuid": "9f560f44_1803fd11",
      "revId": "1af48464ac1cbde986efce3d092b975a48232ab0",
      "serverId": "4a232e18-c5a9-48ee-94c0-e04e7cca6543",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "9f560f44_fda412bb",
        "filename": "zuul/zk/zuul.py",
        "patchSetId": 27
      },
      "lineNbr": 26,
      "author": {
        "id": 9311
      },
      "writtenOn": "2020-09-10T12:46:17Z",
      "side": 1,
      "message": "IIUC PS28, the current design is:\n\n\n               BaseClient\n                 /    \\\n                /      \\\n             Nodepool  Zuul\n                \\       /\n                 \\     /\n                   Zk\n\n\nI find it difficult to follow the state where all the methods and internal state are shared amongs these object. As an improvement, I suggest this design:\n\n    Zk:\n      client \u003d BaseClient()\n      nodepool \u003d Nodepool(client)\n      zuul \u003d Zuul(client)\n\nWhere the client provides a higher level interface of the kazooclient with its internal state hidden from Nodepool and Zuul. The downside is that call site needs to be changed from `zk.getHoldRequest` to `zk.nodepool.getHoldRequest`.",
      "parentUuid": "9f560f44_fbbb82c0",
      "revId": "1af48464ac1cbde986efce3d092b975a48232ab0",
      "serverId": "4a232e18-c5a9-48ee-94c0-e04e7cca6543",
      "unresolved": false
    }
  ]
}