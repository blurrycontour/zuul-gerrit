{
  "comments": [
    {
      "key": {
        "uuid": "9fdfeff1_8412eab0",
        "filename": "zuul/lib/ansible.py",
        "patchSetId": 2
      },
      "lineNbr": 97,
      "author": {
        "id": 16068
      },
      "writtenOn": "2019-01-21T06:08:14Z",
      "side": 1,
      "message": "Extra packages can be defined via environment variables here.\n\nlike ANSIBLE_25_EXTRA_PACKAGES\u003dwinrm",
      "range": {
        "startLine": 97,
        "startChar": 19,
        "endLine": 97,
        "endChar": 44
      },
      "revId": "21acf49b116dc0535e245a88d2f265c5149c9740",
      "serverId": "4a232e18-c5a9-48ee-94c0-e04e7cca6543",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "9fdfeff1_dd7c46b7",
        "filename": "zuul/lib/ansible.py",
        "patchSetId": 2
      },
      "lineNbr": 113,
      "author": {
        "id": 4162
      },
      "writtenOn": "2019-01-21T02:09:31Z",
      "side": 1,
      "message": "What if we moved this to a requirements file on disk? My thoughts would be if operators wanted to add additional dependencies to ansible, say some site specific callback.",
      "revId": "21acf49b116dc0535e245a88d2f265c5149c9740",
      "serverId": "4a232e18-c5a9-48ee-94c0-e04e7cca6543",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "9fdfeff1_a4136eb8",
        "filename": "zuul/lib/ansible.py",
        "patchSetId": 2
      },
      "lineNbr": 113,
      "author": {
        "id": 16068
      },
      "writtenOn": "2019-01-21T06:08:14Z",
      "side": 1,
      "message": "I thought about this but this seemed to be more complicated because that requirements file would be part of zuul itself. To add further requirements would require two requirements files (one by zuul and one additional that must be found somewhere else. The reason for this is that I don\u0027t want to need to patch zuul to add further requirements.\n\nThat\u0027s why I implemented this use case via an environment variable that holds additional packages (see above).",
      "parentUuid": "9fdfeff1_dd7c46b7",
      "revId": "21acf49b116dc0535e245a88d2f265c5149c9740",
      "serverId": "4a232e18-c5a9-48ee-94c0-e04e7cca6543",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "9fdfeff1_ed0952dd",
        "filename": "zuul/lib/ansible.py",
        "patchSetId": 2
      },
      "lineNbr": 113,
      "author": {
        "id": 4162
      },
      "writtenOn": "2019-01-21T14:41:40Z",
      "side": 1,
      "message": "I\u0027d see it more like what we do with zuul.conf, we can install the default ansible requirements on disk, then if the user wants to override them for some reason, they can.  I do have a little concern hardcoding the values into zuul here, but haven\u0027t really dug too much into how it is all working right yet.",
      "parentUuid": "9fdfeff1_a4136eb8",
      "revId": "21acf49b116dc0535e245a88d2f265c5149c9740",
      "serverId": "4a232e18-c5a9-48ee-94c0-e04e7cca6543",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "9fdfeff1_20b52132",
        "filename": "zuul/lib/ansible.py",
        "patchSetId": 2
      },
      "lineNbr": 113,
      "author": {
        "id": 16068
      },
      "writtenOn": "2019-01-21T15:16:50Z",
      "side": 1,
      "message": "Well, we can move them out from here.  Do you have a suggestion where to move them? I think zuul.conf is the wrong place as it is a runtime configuration while installing ansible should be more treated like a compile time thing. E.g. during container image builds there is no zuul.conf and the script must also work within this environment.\n\nWhen moving this to a different file we need to create either a directory structure holding various requirements.txt for all ansible versions or defining them in a single yaml file that needs to be installable along with zuul (to \u003ctarget\u003e/share/zuul?) and needs to be found during runtime of the script. While this is certainly doable it seems much more complicated compared to storing the ansible version just here.",
      "parentUuid": "9fdfeff1_ed0952dd",
      "revId": "21acf49b116dc0535e245a88d2f265c5149c9740",
      "serverId": "4a232e18-c5a9-48ee-94c0-e04e7cca6543",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "9fdfeff1_5fc77b97",
        "filename": "zuul/lib/ansible.py",
        "patchSetId": 2
      },
      "lineNbr": 113,
      "author": {
        "id": 16068
      },
      "writtenOn": "2019-01-26T08:56:31Z",
      "side": 1,
      "message": "I\u0027ll try something based on a yaml description of ansible versions.",
      "parentUuid": "9fdfeff1_20b52132",
      "revId": "21acf49b116dc0535e245a88d2f265c5149c9740",
      "serverId": "4a232e18-c5a9-48ee-94c0-e04e7cca6543",
      "unresolved": false
    }
  ]
}