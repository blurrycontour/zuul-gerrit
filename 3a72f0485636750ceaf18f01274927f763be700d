{
  "comments": [
    {
      "key": {
        "uuid": "8e5c3bed_cbe6d4df",
        "filename": "zuul/driver/bitbucketcloud/bitbucketcloudconnection.py",
        "patchSetId": 13
      },
      "lineNbr": 578,
      "author": {
        "id": 33571
      },
      "writtenOn": "2021-06-02T23:19:12Z",
      "side": 1,
      "message": "Closing a branch (deleting it, having the PR automatically close the branch, etc) does not include `push.links`. All you get is a structure like the below:\n\n {\n  \"push\": {\n    \"changes\": [\n      {\n        \"forced\": false,\n        \"old\": {},\n        \"created\": false,\n        \"truncated\": false,\n        \"closed\": true,\n        \"new\": null\n      }\n    ]\n  },\n  \"actor\": {},\n  \"repository\": {}\n }\n\nI don\u0027t see that documented though: https://support.atlassian.com/bitbucket-cloud/docs/event-payloads/\n\nI suspect in these cases you\u0027d want to use the `old.links.html.href` which is the reference to the closed branch.",
      "revId": "3a72f0485636750ceaf18f01274927f763be700d",
      "serverId": "4a232e18-c5a9-48ee-94c0-e04e7cca6543",
      "unresolved": true
    }
  ]
}