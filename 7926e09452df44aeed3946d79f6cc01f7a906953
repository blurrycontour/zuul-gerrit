{
  "comments": [
    {
      "key": {
        "uuid": "9fb8cfa7_34276767",
        "filename": "tests/unit/test_web.py",
        "patchSetId": 61
      },
      "lineNbr": 1127,
      "author": {
        "id": 16068
      },
      "writtenOn": "2019-06-21T07:09:10Z",
      "side": 1,
      "message": "Should we get 400 (bad request) or 401 (unauthorized) without token?",
      "range": {
        "startLine": 1127,
        "startChar": 25,
        "endLine": 1127,
        "endChar": 28
      },
      "revId": "7926e09452df44aeed3946d79f6cc01f7a906953",
      "serverId": "4a232e18-c5a9-48ee-94c0-e04e7cca6543",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "9fb8cfa7_f4ceaf81",
        "filename": "zuul/web/__init__.py",
        "patchSetId": 61
      },
      "lineNbr": 88,
      "author": {
        "id": 16068
      },
      "writtenOn": "2019-06-21T07:09:10Z",
      "side": 1,
      "message": "This means there was no Authorization header at all so shouldn\u0027t we respond with 401 unauthorized instead of bad request here?",
      "range": {
        "startLine": 85,
        "startChar": 0,
        "endLine": 88,
        "endChar": 39
      },
      "revId": "7926e09452df44aeed3946d79f6cc01f7a906953",
      "serverId": "4a232e18-c5a9-48ee-94c0-e04e7cca6543",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "9fb8cfa7_6f62ea18",
        "filename": "zuul/web/__init__.py",
        "patchSetId": 61
      },
      "lineNbr": 88,
      "author": {
        "id": 7186
      },
      "writtenOn": "2019-06-21T08:54:52Z",
      "side": 1,
      "message": "This is open for debate: my understanding of https://www.w3.org/Protocols/rfc2616/rfc2616-sec10.html#sec10.4.1 is that a missing Authorization header is a malformed request, so the answer should be a 400.\n\nNevertheless the error message is incorrect, I\u0027ll fix it.",
      "parentUuid": "9fb8cfa7_f4ceaf81",
      "range": {
        "startLine": 85,
        "startChar": 0,
        "endLine": 88,
        "endChar": 39
      },
      "revId": "7926e09452df44aeed3946d79f6cc01f7a906953",
      "serverId": "4a232e18-c5a9-48ee-94c0-e04e7cca6543",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "9fb8cfa7_abe69515",
        "filename": "zuul/web/__init__.py",
        "patchSetId": 61
      },
      "lineNbr": 88,
      "author": {
        "id": 16068
      },
      "writtenOn": "2019-06-21T09:31:17Z",
      "side": 1,
      "message": "According to rfc 6750 my understanding is that this should be 401 [1]:\n\n   For example, in response to a protected resource request without\n   authentication:\n\n     HTTP/1.1 401 Unauthorized\n     WWW-Authenticate: Bearer realm\u003d\"example\"\n\nWhile reading this I guess we should also send the \u0027WWW-Authenticate\u0027 headers for all of those 40x errors.\n\n[1] https://tools.ietf.org/html/rfc6750#section-3",
      "parentUuid": "9fb8cfa7_6f62ea18",
      "range": {
        "startLine": 85,
        "startChar": 0,
        "endLine": 88,
        "endChar": 39
      },
      "revId": "7926e09452df44aeed3946d79f6cc01f7a906953",
      "serverId": "4a232e18-c5a9-48ee-94c0-e04e7cca6543",
      "unresolved": false
    }
  ]
}