{
  "comments": [
    {
      "key": {
        "uuid": "df87a7cf_8a67c64d",
        "filename": "tests/unit/test_streaming.py",
        "patchSetId": 15
      },
      "lineNbr": 218,
      "author": {
        "id": 1
      },
      "writtenOn": "2017-12-19T18:18:03Z",
      "side": 1,
      "message": "It\u0027s okay to merge this, but only if there\u0027s a patch later in the series that removes this.  I haven\u0027t verified if that\u0027s the case yet.",
      "revId": "af246602e2990943b2216618a35700398e1b07b6",
      "serverId": "4a232e18-c5a9-48ee-94c0-e04e7cca6543",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "df87a7cf_aa8e4ace",
        "filename": "tests/unit/test_streaming.py",
        "patchSetId": 15
      },
      "lineNbr": 218,
      "author": {
        "id": 2
      },
      "writtenOn": "2017-12-19T18:30:12Z",
      "side": 1,
      "message": "Agree. I do not want to merge this series until we\u0027ve got that ^^ solved.",
      "parentUuid": "df87a7cf_8a67c64d",
      "revId": "af246602e2990943b2216618a35700398e1b07b6",
      "serverId": "4a232e18-c5a9-48ee-94c0-e04e7cca6543",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "df87a7cf_2a58fa87",
        "filename": "tools/install-js-repos-rpm.sh",
        "patchSetId": 15
      },
      "lineNbr": 11,
      "author": {
        "id": 1
      },
      "writtenOn": "2017-12-19T18:18:03Z",
      "side": 1,
      "message": "Does this file have a license?",
      "revId": "af246602e2990943b2216618a35700398e1b07b6",
      "serverId": "4a232e18-c5a9-48ee-94c0-e04e7cca6543",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "df87a7cf_8a36e602",
        "filename": "tools/install-js-repos-rpm.sh",
        "patchSetId": 15
      },
      "lineNbr": 11,
      "author": {
        "id": 2
      },
      "writtenOn": "2017-12-19T18:30:12Z",
      "side": 1,
      "message": "Excellent question! The file seems to come from https://github.com/nodesource/distributions which lists an MIT license:\n\nhttps://github.com/nodesource/distributions/blob/master/LICENSE.md\n\nSo maybe I should add that as a license header here?",
      "parentUuid": "df87a7cf_2a58fa87",
      "revId": "af246602e2990943b2216618a35700398e1b07b6",
      "serverId": "4a232e18-c5a9-48ee-94c0-e04e7cca6543",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "df87a7cf_a5b43d37",
        "filename": "tools/install-js-repos-rpm.sh",
        "patchSetId": 15
      },
      "lineNbr": 11,
      "author": {
        "id": 1
      },
      "writtenOn": "2017-12-19T18:41:42Z",
      "side": 1,
      "message": "Weirdly, I don\u0027t see an 8.x in there.  I agree this is likely at least derived from the files there (eg, setup_7.x) and likely MIT licensed.\n\nI think it might at least be a good idea to add a note here about the assumed license... and maybe open an issue on that github repo asking about a setup_8.x script -- so that then we could submit a PR adding a licnes header?",
      "revId": "af246602e2990943b2216618a35700398e1b07b6",
      "serverId": "4a232e18-c5a9-48ee-94c0-e04e7cca6543",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "df87a7cf_e53b25ce",
        "filename": "tools/install-js-repos-rpm.sh",
        "patchSetId": 15
      },
      "lineNbr": 217,
      "author": {
        "id": 16068
      },
      "writtenOn": "2017-12-19T18:36:10Z",
      "side": 1,
      "message": "This might be dangerous as it doesn\u0027t ask if that\u0027s ok and will remove any stuff from the system depending on that.\n\nThat led me to quickly hitting ctrl+c to verify the package removal list ;)",
      "range": {
        "startLine": 217,
        "startChar": 13,
        "endLine": 217,
        "endChar": 37
      },
      "revId": "af246602e2990943b2216618a35700398e1b07b6",
      "serverId": "4a232e18-c5a9-48ee-94c0-e04e7cca6543",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "df87a7cf_c5b14146",
        "filename": "tools/install-js-repos-rpm.sh",
        "patchSetId": 15
      },
      "lineNbr": 217,
      "author": {
        "id": 1
      },
      "writtenOn": "2017-12-19T18:41:42Z",
      "side": 1,
      "message": "Oh, you mean remove the \"-y\"?  Yeah, that sounds like a good idea, though I don\u0027t know if that will make maintaining this harder if we have to update it again later.  This would be another nice thing to submit a PR about.",
      "revId": "af246602e2990943b2216618a35700398e1b07b6",
      "serverId": "4a232e18-c5a9-48ee-94c0-e04e7cca6543",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "df87a7cf_657955fa",
        "filename": "tools/install-js-repos-rpm.sh",
        "patchSetId": 15
      },
      "lineNbr": 217,
      "author": {
        "id": 2
      },
      "writtenOn": "2017-12-19T19:07:52Z",
      "side": 1,
      "message": "I wonder if we should actually just rethink this script.\n\nOriginally we needed a script that gets node and yarn installed for CI jobs. But the npm base jobs already do that for us, so we don\u0027t need to do it in test-setup.\n\nWe\u0027re not assuming that tox python unittests will depend on node/javascript being run. If we DID, there is a pattern from storyboard we could use of using nodeenv (which is like python virtualenv)\n\nSo what we actually need is a way to help developers get set up with depends for local work - but alternately could be avoided if that human wants to install things some other way?",
      "parentUuid": "df87a7cf_c5b14146",
      "revId": "af246602e2990943b2216618a35700398e1b07b6",
      "serverId": "4a232e18-c5a9-48ee-94c0-e04e7cca6543",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "df87a7cf_85d7b94b",
        "filename": "tools/install-js-tools.sh",
        "patchSetId": 15
      },
      "lineNbr": 33,
      "author": {
        "id": 16068
      },
      "writtenOn": "2017-12-19T18:45:26Z",
      "side": 1,
      "message": "The yarn repo is missing at this step (Fedora 27). I added it following https://yarnpkg.com/en/docs/install",
      "range": {
        "startLine": 33,
        "startChar": 4,
        "endLine": 33,
        "endChar": 35
      },
      "revId": "af246602e2990943b2216618a35700398e1b07b6",
      "serverId": "4a232e18-c5a9-48ee-94c0-e04e7cca6543",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "df87a7cf_25d90d55",
        "filename": "tools/install-js-tools.sh",
        "patchSetId": 15
      },
      "lineNbr": 33,
      "author": {
        "id": 2
      },
      "writtenOn": "2017-12-19T19:07:52Z",
      "side": 1,
      "message": "Cool. I\u0027ll fix that.",
      "parentUuid": "df87a7cf_85d7b94b",
      "range": {
        "startLine": 33,
        "startChar": 4,
        "endLine": 33,
        "endChar": 35
      },
      "revId": "af246602e2990943b2216618a35700398e1b07b6",
      "serverId": "4a232e18-c5a9-48ee-94c0-e04e7cca6543",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "df87a7cf_aa72ca10",
        "filename": "web/README.rst",
        "patchSetId": 15
      },
      "lineNbr": 0,
      "author": {
        "id": 1
      },
      "writtenOn": "2017-12-19T18:18:03Z",
      "side": 1,
      "message": "Can we put this in the developer docs?  docs/source/developer",
      "revId": "af246602e2990943b2216618a35700398e1b07b6",
      "serverId": "4a232e18-c5a9-48ee-94c0-e04e7cca6543",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "df87a7cf_0a8656ba",
        "filename": "web/README.rst",
        "patchSetId": 15
      },
      "lineNbr": 0,
      "author": {
        "id": 2
      },
      "writtenOn": "2017-12-19T18:30:12Z",
      "side": 1,
      "message": "Yes - that\u0027s an excellent idea.",
      "parentUuid": "df87a7cf_aa72ca10",
      "revId": "af246602e2990943b2216618a35700398e1b07b6",
      "serverId": "4a232e18-c5a9-48ee-94c0-e04e7cca6543",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "df87a7cf_ca6f0e26",
        "filename": "web/README.rst",
        "patchSetId": 15
      },
      "lineNbr": 162,
      "author": {
        "id": 1
      },
      "writtenOn": "2017-12-19T18:18:03Z",
      "side": 1,
      "message": "Why are we treating each page as a new build target?  It\u0027s a single web app, so we should just have one target; and we should be able to add/remove/changes pages as needed without updating the build system.",
      "revId": "af246602e2990943b2216618a35700398e1b07b6",
      "serverId": "4a232e18-c5a9-48ee-94c0-e04e7cca6543",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "df87a7cf_ea88d2c6",
        "filename": "web/README.rst",
        "patchSetId": 15
      },
      "lineNbr": 162,
      "author": {
        "id": 2
      },
      "writtenOn": "2017-12-19T18:30:12Z",
      "side": 1,
      "message": "Yup, I agree. Right now they\u0027re their own targets purely because of the need to copy/paste the source_url parameter. Once that\u0027s fixed, I think this can just be \"npm run start\"",
      "parentUuid": "df87a7cf_ca6f0e26",
      "revId": "af246602e2990943b2216618a35700398e1b07b6",
      "serverId": "4a232e18-c5a9-48ee-94c0-e04e7cca6543",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "df87a7cf_e5aec5e5",
        "filename": "web/README.rst",
        "patchSetId": 15
      },
      "lineNbr": 162,
      "author": {
        "id": 1
      },
      "writtenOn": "2017-12-19T18:41:42Z",
      "side": 1,
      "message": "Cool, do you think we can do that as a follow-on patch before merging this?",
      "revId": "af246602e2990943b2216618a35700398e1b07b6",
      "serverId": "4a232e18-c5a9-48ee-94c0-e04e7cca6543",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "df87a7cf_65d2b55e",
        "filename": "web/README.rst",
        "patchSetId": 15
      },
      "lineNbr": 162,
      "author": {
        "id": 2
      },
      "writtenOn": "2017-12-19T19:07:52Z",
      "side": 1,
      "message": "Yup!",
      "parentUuid": "df87a7cf_e5aec5e5",
      "revId": "af246602e2990943b2216618a35700398e1b07b6",
      "serverId": "4a232e18-c5a9-48ee-94c0-e04e7cca6543",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "df87a7cf_6a628240",
        "filename": "web/README.rst",
        "patchSetId": 15
      },
      "lineNbr": 205,
      "author": {
        "id": 1
      },
      "writtenOn": "2017-12-19T18:18:03Z",
      "side": 1,
      "message": "I\u0027m confused by this -- we\u0027re working toward everything being served by zuul-web, right?  If not, then we have the same awkward situation we have now, which is that you have to run zuul-web (the \"api\" server) and then map the static content into the uri space somehow.\n\nI\u0027d like this to be deployable as a self-contained application, so that if you wanted, you could just start zuul-web on port 80.  Or start it on 8000 and reverse proxy to it, with no rewrite rules or anything.",
      "revId": "af246602e2990943b2216618a35700398e1b07b6",
      "serverId": "4a232e18-c5a9-48ee-94c0-e04e7cca6543",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "df87a7cf_2a9b1a17",
        "filename": "web/README.rst",
        "patchSetId": 15
      },
      "lineNbr": 205,
      "author": {
        "id": 2
      },
      "writtenOn": "2017-12-19T18:30:12Z",
      "side": 1,
      "message": "Yes - that is correct and should be totally possible. But since it\u0027s just static web content, if you want to stick it into an apache and do a rewrite rule, that\u0027ll work too.\n\nHowever - there is a bug in this doc. It actually just puts the content into zuul/web/static - not dist.",
      "parentUuid": "df87a7cf_6a628240",
      "revId": "af246602e2990943b2216618a35700398e1b07b6",
      "serverId": "4a232e18-c5a9-48ee-94c0-e04e7cca6543",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "df87a7cf_05ac09eb",
        "filename": "web/README.rst",
        "patchSetId": 15
      },
      "lineNbr": 205,
      "author": {
        "id": 1
      },
      "writtenOn": "2017-12-19T18:41:42Z",
      "side": 1,
      "message": "Okay, I think maybe what we should do is go ahead and write a quick set of instructions for \"this is how you serve everything from zuul-web\"; and then optionally, follow that up with \"if you want a faster race car, you can serve the static directory like so\".  As it stands, I\u0027m not quite sure how to deploy using the zuul-web only approach.",
      "revId": "af246602e2990943b2216618a35700398e1b07b6",
      "serverId": "4a232e18-c5a9-48ee-94c0-e04e7cca6543",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "df87a7cf_05f649d8",
        "filename": "web/README.rst",
        "patchSetId": 15
      },
      "lineNbr": 205,
      "author": {
        "id": 2
      },
      "writtenOn": "2017-12-19T19:07:52Z",
      "side": 1,
      "message": "Yup!",
      "parentUuid": "df87a7cf_05ac09eb",
      "revId": "af246602e2990943b2216618a35700398e1b07b6",
      "serverId": "4a232e18-c5a9-48ee-94c0-e04e7cca6543",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "df87a7cf_7b2d7693",
        "filename": "web/README.rst",
        "patchSetId": 15
      },
      "lineNbr": 205,
      "author": {
        "id": 2
      },
      "writtenOn": "2017-12-19T20:15:25Z",
      "side": 1,
      "message": "tl;dr:\n\n  npm run build\n  pip install .\n\nor\n\n  npm run build\n  python setup.py sdist\n\nas long as you have run a javascript build, the files are put into zuul/web/static and everything should JustWork",
      "parentUuid": "df87a7cf_05f649d8",
      "revId": "af246602e2990943b2216618a35700398e1b07b6",
      "serverId": "4a232e18-c5a9-48ee-94c0-e04e7cca6543",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "df87a7cf_4a5d3e77",
        "filename": "web/config/webpack.common.js",
        "patchSetId": 15
      },
      "lineNbr": 9,
      "author": {
        "id": 1
      },
      "writtenOn": "2017-12-19T18:18:03Z",
      "side": 1,
      "message": "I also think this doesn\u0027t match the structure of the application -- it doesn\u0027t seem like we should be adding entries here for every page we have.",
      "revId": "af246602e2990943b2216618a35700398e1b07b6",
      "serverId": "4a232e18-c5a9-48ee-94c0-e04e7cca6543",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "df87a7cf_2a69daf6",
        "filename": "web/config/webpack.common.js",
        "patchSetId": 15
      },
      "lineNbr": 9,
      "author": {
        "id": 2
      },
      "writtenOn": "2017-12-19T18:30:12Z",
      "side": 1,
      "message": "We can totally combine them (I\u0027ll make a patch that does that)\n\nI\u0027ve also been reading some more about best practices, and there is one that suggests making a bundle that contains all of the third-party dependency imports, since those are less likely to change as frequently and thus are more cacheable. However, I think our app is small enough at the moment that a single bundle should be more than fine.",
      "parentUuid": "df87a7cf_4a5d3e77",
      "revId": "af246602e2990943b2216618a35700398e1b07b6",
      "serverId": "4a232e18-c5a9-48ee-94c0-e04e7cca6543",
      "unresolved": false
    }
  ]
}