{
  "comments": [
    {
      "key": {
        "uuid": "baa041b7_76369be8",
        "filename": "zuul/launcher/gearman.py",
        "patchSetId": 1
      },
      "lineNbr": 407,
      "author": {
        "id": 4146
      },
      "writtenOn": "2015-04-03T17:10:24Z",
      "side": 1,
      "message": "I\u0027m not sure putting a one second sleep in the zuul scheduler without it being able to catch up like the sleep for gerrit events is a good thing.\n\nThis method is called from the scheduler in a variety of cases. When we reconfigure zuul, when builds behind a failing change must be restarted, when a merge fails, and so on. In each of those cases the zuul scheduler will pause for 1 * number of builds canceled seconds, (If I have done my math correctly). In a worst case scenario for us that is something like 900 seconds.",
      "revId": "f15139b789d32aef361075487b1b7495a9807b05",
      "serverId": "4a232e18-c5a9-48ee-94c0-e04e7cca6543",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "baa041b7_167aaff1",
        "filename": "zuul/launcher/gearman.py",
        "patchSetId": 1
      },
      "lineNbr": 407,
      "author": {
        "id": 5263
      },
      "writtenOn": "2015-04-03T17:32:59Z",
      "side": 1,
      "message": "I worried the same at first, but then realized that we should only hit this when trying to cancel builds which can\u0027t initially be found. I\u0027m having trouble imagining a situation where we\u0027ve ever approach this worst case unless something else is terribly broken anyway.",
      "parentUuid": "baa041b7_76369be8",
      "revId": "f15139b789d32aef361075487b1b7495a9807b05",
      "serverId": "4a232e18-c5a9-48ee-94c0-e04e7cca6543",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "baa041b7_76fe9b39",
        "filename": "zuul/launcher/gearman.py",
        "patchSetId": 1
      },
      "lineNbr": 407,
      "author": {
        "id": 4146
      },
      "writtenOn": "2015-04-03T17:38:06Z",
      "side": 1,
      "message": "You are correct, this method short circuits if it finds the build.number and only sleeps if build.number is not set. I did not catch that during my first review. Thank you for pointing this out.\n\nThis effectively means that we should only sleep when necessary to catch up which is what I was looking for in my original comment.",
      "parentUuid": "baa041b7_167aaff1",
      "revId": "f15139b789d32aef361075487b1b7495a9807b05",
      "serverId": "4a232e18-c5a9-48ee-94c0-e04e7cca6543",
      "unresolved": false
    }
  ]
}