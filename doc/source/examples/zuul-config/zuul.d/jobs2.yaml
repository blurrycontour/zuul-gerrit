- job:
    name: base
    parent: null
    description: |
      The recommended base job.

      All jobs ultimately inherit from this.  It runs a pre-playbook
      which copies all of the job's prepared git repos on to all of
      the nodes in the nodeset.

      It also sets a default timeout value (which may be overidden).
    pre-run: playbooks/base/pre.yaml
    post-run:
      - playbooks/base/post-ssh.yaml
      - playbooks/base/post-logs.yaml
    roles:
      - zuul: g-chauvel/zuul-jobs
    timeout: 1800
    nodeset:
      nodes:
        - name: ubuntu-focal
          label: ubuntu-focal

- job:
    name: base-multinode
    parent: base
    description: |
      A node which will execute on multiple nodes
    nodeset:
      nodes:
        - name: ubuntu-focal
          label: ubuntu-focal
        - name: ubuntu-fokal
          label: ubuntu-fokal
        - name: ubuntu-foqal
          label: ubuntu-foqal
      groups:
        - name: allnodes
          nodes:
            - ubuntu-focal
            - ubuntu-fokal
            - ubuntu-foqal
        - name: nodecandk
          nodes:
            - ubuntu-focal
            - ubuntu-fokal
