{
  "comments": [
    {
      "unresolved": false,
      "key": {
        "uuid": "887bd4b8_ecb7ac9d",
        "filename": "zuul/driver/sql/sqlconnection.py",
        "patchSetId": 1
      },
      "lineNbr": 266,
      "author": {
        "id": 1
      },
      "writtenOn": "2022-03-16T23:59:18Z",
      "side": 1,
      "message": "I\u0027m on the fence about this:\n\nWhile it\u0027s true that this can add some protection to using a broken connection, because we only keep idle connections for 1 second, it would only protect us in the situation where:\n\n* We sucessfully used a connection less than a second ago.\n* The connection has broken since then.\n* The connection will be automatically fixed within sqlalchemy\u0027s 3 retry attempts (I\u0027m not sure how long that is).\n\nThere isn\u0027t much overhead to this change, but there\u0027s some, and maybe it\u0027s not worth the vanishingly small chance that it actually helps?\n\nOn the other hand, maybe we can make the reporting handling more robust so that it doesn\u0027t have cascading failure effects.",
      "revId": "f58fd617cf6a5a8fe3408b794b13ec154e967d79",
      "serverId": "4a232e18-c5a9-48ee-94c0-e04e7cca6543"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "090b30ce_b22a67c4",
        "filename": "zuul/driver/sql/sqlconnection.py",
        "patchSetId": 1
      },
      "lineNbr": 266,
      "author": {
        "id": 27582
      },
      "writtenOn": "2022-03-17T06:12:15Z",
      "side": 1,
      "message": "Agreed. Let\u0027s make the reporting more robust before considering this again.",
      "parentUuid": "887bd4b8_ecb7ac9d",
      "revId": "f58fd617cf6a5a8fe3408b794b13ec154e967d79",
      "serverId": "4a232e18-c5a9-48ee-94c0-e04e7cca6543"
    }
  ],
  "submitRequirementResults": [
    {
      "submitRequirement": {
        "name": "Code-Review",
        "description": {
          "value": "Code reviewed by core reviewer"
        },
        "applicabilityExpression": {},
        "submittabilityExpression": {
          "expressionString": "label:Code-Review\u003dMAX AND -label:Code-Review\u003dMIN"
        },
        "overrideExpression": {},
        "allowOverrideInChildProjects": true
      },
      "applicabilityExpressionResult": {},
      "submittabilityExpressionResult": {
        "value": {"expression":{"expressionString":"label:Code-Review=MAX AND -label:Code-Review=MIN"},"status":"FAIL","errorMessage":{"value":null},"passingAtoms":[],"failingAtoms":["label:Code-Review=MAX","label:Code-Review=MIN"]}
      },
      "overrideExpressionResult": {},
      "patchSetCommitId": "f58fd617cf6a5a8fe3408b794b13ec154e967d79",
      "legacy": {
        "value": false
      },
      "forced": {},
      "hidden": {}
    },
    {
      "submitRequirement": {
        "name": "Verified",
        "description": {
          "value": "Verified in gate by CI"
        },
        "applicabilityExpression": {},
        "submittabilityExpression": {
          "expressionString": "label:Verified\u003dMAX AND -label:Verified\u003dMIN"
        },
        "overrideExpression": {},
        "allowOverrideInChildProjects": false
      },
      "applicabilityExpressionResult": {},
      "submittabilityExpressionResult": {
        "value": {"expression":{"expressionString":"label:Verified=MAX AND -label:Verified=MIN"},"status":"FAIL","errorMessage":{"value":null},"passingAtoms":[],"failingAtoms":["label:Verified=MAX","label:Verified=MIN"]}
      },
      "overrideExpressionResult": {},
      "patchSetCommitId": "f58fd617cf6a5a8fe3408b794b13ec154e967d79",
      "legacy": {
        "value": false
      },
      "forced": {},
      "hidden": {}
    },
    {
      "submitRequirement": {
        "name": "Workflow",
        "description": {
          "value": "Approved for gate by core reviewer"
        },
        "applicabilityExpression": {},
        "submittabilityExpression": {
          "expressionString": "label:Workflow\u003dMAX AND -label:Workflow\u003dMIN"
        },
        "overrideExpression": {},
        "allowOverrideInChildProjects": false
      },
      "applicabilityExpressionResult": {},
      "submittabilityExpressionResult": {
        "value": {"expression":{"expressionString":"label:Workflow=MAX AND -label:Workflow=MIN"},"status":"FAIL","errorMessage":{"value":null},"passingAtoms":[],"failingAtoms":["label:Workflow=MAX","label:Workflow=MIN"]}
      },
      "overrideExpressionResult": {},
      "patchSetCommitId": "f58fd617cf6a5a8fe3408b794b13ec154e967d79",
      "legacy": {
        "value": false
      },
      "forced": {},
      "hidden": {}
    }
  ]
}