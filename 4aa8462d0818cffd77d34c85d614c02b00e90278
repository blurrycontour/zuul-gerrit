{
  "comments": [
    {
      "key": {
        "uuid": "af50255c_a1c56fd9",
        "filename": "doc/source/reference/monitoring.rst",
        "patchSetId": 12
      },
      "lineNbr": 55,
      "author": {
        "id": 4146
      },
      "writtenOn": "2021-07-01T00:05:23Z",
      "side": 1,
      "message": "When we report this value via the rest api we report it with the reconfiguration event queue added into the tenant management queue. But statsd is only reporting the tenant management queue.\n\nShould we try to sync those up?",
      "revId": "4aa8462d0818cffd77d34c85d614c02b00e90278",
      "serverId": "4a232e18-c5a9-48ee-94c0-e04e7cca6543",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "cf6f9ed7_7f20b7b2",
        "filename": "doc/source/reference/monitoring.rst",
        "patchSetId": 12
      },
      "lineNbr": 55,
      "author": {
        "id": 27582
      },
      "writtenOn": "2021-07-01T05:35:52Z",
      "side": 1,
      "message": "I\u0027d say no. The length of the reconfig event queue is only added in the REST API for backward compatibility. E.g. some of our users use that value in order to see if there is a reconfiguration ongoing.",
      "parentUuid": "af50255c_a1c56fd9",
      "revId": "4aa8462d0818cffd77d34c85d614c02b00e90278",
      "serverId": "4a232e18-c5a9-48ee-94c0-e04e7cca6543",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "f83bd194_2ff293ed",
        "filename": "doc/source/reference/monitoring.rst",
        "patchSetId": 12
      },
      "lineNbr": 485,
      "author": {
        "id": 4146
      },
      "writtenOn": "2021-07-01T00:05:23Z",
      "side": 1,
      "message": "This gauge continues to be reported but it is only the length of the reconfiguration events. We should probably update these docs.",
      "revId": "4aa8462d0818cffd77d34c85d614c02b00e90278",
      "serverId": "4a232e18-c5a9-48ee-94c0-e04e7cca6543",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "7e5e06ff_77888ed0",
        "filename": "doc/source/reference/monitoring.rst",
        "patchSetId": 12
      },
      "lineNbr": 485,
      "author": {
        "id": 27582
      },
      "writtenOn": "2021-07-01T05:35:52Z",
      "side": 1,
      "message": "Ack.",
      "parentUuid": "f83bd194_2ff293ed",
      "revId": "4aa8462d0818cffd77d34c85d614c02b00e90278",
      "serverId": "4a232e18-c5a9-48ee-94c0-e04e7cca6543",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "b7c16359_6c3a6fb8",
        "filename": "zuul/zk/event_queues.py",
        "patchSetId": 12
      },
      "lineNbr": 86,
      "author": {
        "id": 4146
      },
      "writtenOn": "2021-07-01T00:05:23Z",
      "side": 1,
      "message": "Is this argument necessary if we aren\u0027t sending events?",
      "range": {
        "startLine": 86,
        "startChar": 27,
        "endLine": 86,
        "endChar": 38
      },
      "revId": "4aa8462d0818cffd77d34c85d614c02b00e90278",
      "serverId": "4a232e18-c5a9-48ee-94c0-e04e7cca6543",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "cfc38bb3_e20ff286",
        "filename": "zuul/zk/event_queues.py",
        "patchSetId": 12
      },
      "lineNbr": 86,
      "author": {
        "id": 1
      },
      "writtenOn": "2021-07-01T00:16:33Z",
      "side": 1,
      "message": "It\u0027s not, but I liked having the full standard function signature so it doesn\u0027t matter.",
      "revId": "4aa8462d0818cffd77d34c85d614c02b00e90278",
      "serverId": "4a232e18-c5a9-48ee-94c0-e04e7cca6543",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "7cbcd360_b069f035",
        "filename": "zuul/zk/event_queues.py",
        "patchSetId": 12
      },
      "lineNbr": 527,
      "author": {
        "id": 4146
      },
      "writtenOn": "2021-07-01T00:05:23Z",
      "side": 1,
      "message": "I know it was this way before but its a bit weird to have both trigger and management events in the same zookeeper path which is analogous to having them all in one queue there then we split them out here into two different queues.\n\nI guess we use a prefix on the znodes rather than separating them into different paths. Is there a specific reason we do that? This sort of thing might be worth calling out in the code?",
      "revId": "4aa8462d0818cffd77d34c85d614c02b00e90278",
      "serverId": "4a232e18-c5a9-48ee-94c0-e04e7cca6543",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "f23354e7_8dcd2953",
        "filename": "zuul/zk/event_queues.py",
        "patchSetId": 12
      },
      "lineNbr": 527,
      "author": {
        "id": 27582
      },
      "writtenOn": "2021-07-01T05:35:52Z",
      "side": 1,
      "message": "Yes, the different event types are separated by using different prefixes. I guess the main reason was that it\u0027s described like this in the spec, but it also simplifies the watches. Otherwise we\u0027d need three instead of one data watch for every pipeline/tenant event queue.",
      "parentUuid": "7cbcd360_b069f035",
      "revId": "4aa8462d0818cffd77d34c85d614c02b00e90278",
      "serverId": "4a232e18-c5a9-48ee-94c0-e04e7cca6543",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "ee3d60cc_895aa4da",
        "filename": "zuul/zk/event_queues.py",
        "patchSetId": 12
      },
      "lineNbr": 527,
      "author": {
        "id": 4146
      },
      "writtenOn": "2021-07-01T14:26:41Z",
      "side": 1,
      "message": "Thank you for confirming it is to simplify watches. I think that is a reasonable enough reason for the \"cohosting\" of the queues on the zookeeper side. It just jumped uot to me as potentially odd so wanted to call it out. Sounds like there is a good reason for it though.",
      "parentUuid": "f23354e7_8dcd2953",
      "revId": "4aa8462d0818cffd77d34c85d614c02b00e90278",
      "serverId": "4a232e18-c5a9-48ee-94c0-e04e7cca6543",
      "unresolved": true
    }
  ]
}