{
  "comments": [
    {
      "unresolved": true,
      "key": {
        "uuid": "071dc261_6e922789",
        "filename": "/COMMIT_MSG",
        "patchSetId": 2
      },
      "lineNbr": 15,
      "author": {
        "id": 4146
      },
      "writtenOn": "2023-02-14T21:11:31Z",
      "side": 1,
      "message": "Note, this appears to keep a commit but without changes. If you run `git show HEAD` after this operation you have a commit message with no diff. This is different than the git merge case which simply exits 0 and reports `Already up to date.`\n\nFor many users this might be fine. But if you use git repo state to calculate versioning for example this could be a problem.\n\nA better solution with fewer side effects may be to avoid merging anything in the case of change-merged/ref-updated events and simply checkout the state of the system at that point in time? I haven\u0027t dug in to see what would be involved in doing that, but would avoid problematic side effects in the git tree.",
      "revId": "50f8ed3c1a0e1cfd336838550da94a4de5fcc324",
      "serverId": "4a232e18-c5a9-48ee-94c0-e04e7cca6543"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "93a89ffc_11012ec8",
        "filename": "/COMMIT_MSG",
        "patchSetId": 2
      },
      "lineNbr": 15,
      "author": {
        "id": 35619
      },
      "writtenOn": "2023-02-15T07:48:54Z",
      "side": 1,
      "message": "OK, so `--keep-redundant-commit` keeps an extra commit that we\u0027re not actually interested in having. I think maybe `--allow-empty` would be the better option then:\n\n\u003e Commits which are made empty due to a previous commit are dropped. To force the inclusion of those commits use --keep-redundant-commits.",
      "parentUuid": "071dc261_6e922789",
      "revId": "50f8ed3c1a0e1cfd336838550da94a4de5fcc324",
      "serverId": "4a232e18-c5a9-48ee-94c0-e04e7cca6543"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "fa21475c_9b663cf4",
        "filename": "/COMMIT_MSG",
        "patchSetId": 2
      },
      "lineNbr": 15,
      "author": {
        "id": 1
      },
      "writtenOn": "2023-02-15T14:00:37Z",
      "side": 1,
      "message": "Here\u0027s an experiment I\u0027d like you to run to collect information to help us decide how to proceed:\n\nPropose a change to gerrit in a cherry-pick repo which is identical to a commit already in the branch.  Does that work?  If so, submit it.   Does that work?   What does the resulting tree look like?\n\nThat\u0027s the behavior we need to mimic, because the pre-merge behavior should match Gerrit exactly.  If we need to alter the behavior for a post-merge change-based pipeline, then we may need to add a pipeline option, or start paying attention to the \u0027merged\u0027 flag on the change.",
      "parentUuid": "071dc261_6e922789",
      "revId": "50f8ed3c1a0e1cfd336838550da94a4de5fcc324",
      "serverId": "4a232e18-c5a9-48ee-94c0-e04e7cca6543"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "3a615a66_7f03d97f",
        "filename": "/COMMIT_MSG",
        "patchSetId": 2
      },
      "lineNbr": 15,
      "author": {
        "id": 35619
      },
      "writtenOn": "2023-02-15T15:00:58Z",
      "side": 1,
      "message": "Proposing a change identical to a commit in the branch works (provided it has a unique Change-Id footer in the commit message, so the commit hash _is_ different in my experiment).\n\nAs for submitting, it depends on the `submit.rejectEmptyCommit` project setting in Gerrit. If `submit.rejectEmptyCommit \u003d True`, you get an error when you submit:\n\n\u003e Could not perform action: Failed to submit 1 change due to the following problems:\n\u003e Change 4184: Change could not be merged because the commit is empty. Project policy requires all commits to contain modifications to at least one file.\n\nIf `submit.rejectEmptyCommit \u003d False`, the submit succeeds, and the change is marked as merged by Gerrit, but no extra commit appears in the git log. I believe this matches the `--allow-empty` option to git cherry-pick.\n\nTested on Gerrit 3.6.1.",
      "parentUuid": "fa21475c_9b663cf4",
      "revId": "50f8ed3c1a0e1cfd336838550da94a4de5fcc324",
      "serverId": "4a232e18-c5a9-48ee-94c0-e04e7cca6543"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "402862ae_1cb4e7f1",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 2
      },
      "lineNbr": 0,
      "author": {
        "id": 33934
      },
      "writtenOn": "2023-02-14T21:06:12Z",
      "side": 1,
      "message": "recheck",
      "revId": "50f8ed3c1a0e1cfd336838550da94a4de5fcc324",
      "serverId": "4a232e18-c5a9-48ee-94c0-e04e7cca6543"
    }
  ]
}