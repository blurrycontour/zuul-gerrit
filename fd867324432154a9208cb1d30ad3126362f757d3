{
  "comments": [
    {
      "key": {
        "uuid": "7f515b1d_ae7e46ac",
        "filename": "zuul/executor/server.py",
        "patchSetId": 1
      },
      "lineNbr": 1667,
      "author": {
        "id": 4162
      },
      "writtenOn": "2017-09-27T17:18:12Z",
      "side": 1,
      "message": "clarkb pointed me to the following a while back:\n\n  ansible * -m setup -a \u0027gather_subset\u003d!all\u0027\n\nthat will get us the minimal facts possible, maybe enough for network check?",
      "revId": "fd867324432154a9208cb1d30ad3126362f757d3",
      "serverId": "4a232e18-c5a9-48ee-94c0-e04e7cca6543",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "7f515b1d_c16b931b",
        "filename": "zuul/executor/server.py",
        "patchSetId": 1
      },
      "lineNbr": 1667,
      "author": {
        "id": 6816
      },
      "writtenOn": "2017-09-27T17:38:36Z",
      "side": 1,
      "message": "If all you\u0027re trying to do is check whether ansible is able to connect, then rather use the connection module:\nhttp://docs.ansible.com/ansible/latest/wait_for_connection_module.html\n\nJust running setup without restricting the subset takes quite a bit of time of ohai/facter is present on the target. It also gathers a lot of unnecessary facts which are not often used.\n\nFor OSA we use the following, cutting down container/instance fact gathering from more than a minute to under ten seconds. On real hosts it takes quite a bit longer using defaults.\n\nansible -m setup -a \u0027gather_subset\u003dnetwork,hardware,virtual\u0027\n\nIn your particular case, if the only facts you need are network related, then perhaps just use:\n\nansible -m setup -a \u0027gather_subset\u003dnetwork\u0027",
      "parentUuid": "7f515b1d_ae7e46ac",
      "revId": "fd867324432154a9208cb1d30ad3126362f757d3",
      "serverId": "4a232e18-c5a9-48ee-94c0-e04e7cca6543",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "7f515b1d_6165ff1d",
        "filename": "zuul/executor/server.py",
        "patchSetId": 1
      },
      "lineNbr": 1667,
      "author": {
        "id": 1
      },
      "writtenOn": "2017-09-27T17:44:46Z",
      "side": 1,
      "message": "I think we want to get some amount of data, but not too much.  I think our playbooks perform some about of fact gathering already, so probably matching that so we don\u0027t ultimately do any more work is what we want.  I think what Paul suggested is what we\u0027re typically using...?",
      "revId": "fd867324432154a9208cb1d30ad3126362f757d3",
      "serverId": "4a232e18-c5a9-48ee-94c0-e04e7cca6543",
      "unresolved": false
    }
  ]
}