{
  "comments": [
    {
      "unresolved": true,
      "key": {
        "uuid": "21284255_75ab4d39",
        "filename": "zuul/merger/merger.py",
        "patchSetId": 1
      },
      "lineNbr": 549,
      "author": {
        "id": 4146
      },
      "writtenOn": "2024-03-28T21:41:53Z",
      "side": 1,
      "message": "It isn\u0027t super clear to me if `refs[path]` will resolve to the tag object or the commit the tag refers to. I\u0027ve written this change as if it were the tag object proper and not the referred to commit.",
      "revId": "66ad44a3152086f9e69354b75710287772581aab",
      "serverId": "4a232e18-c5a9-48ee-94c0-e04e7cca6543"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "610232fa_ca74c210",
        "filename": "zuul/merger/merger.py",
        "patchSetId": 1
      },
      "lineNbr": 549,
      "author": {
        "id": 1
      },
      "writtenOn": "2024-03-28T21:51:09Z",
      "side": 1,
      "message": "I believe that\u0027s the case.",
      "parentUuid": "21284255_75ab4d39",
      "revId": "66ad44a3152086f9e69354b75710287772581aab",
      "serverId": "4a232e18-c5a9-48ee-94c0-e04e7cca6543"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "894c9259_320a40d5",
        "filename": "zuul/merger/merger.py",
        "patchSetId": 1
      },
      "lineNbr": 560,
      "author": {
        "id": 1
      },
      "writtenOn": "2024-03-28T21:51:09Z",
      "side": 1,
      "message": "At this point, we can\u0027t trust the path; we\u0027re setting the entire ref state for the repository and only the input data to this function is canonical.  So if we\u0027re going to write out the pointed-to commit sha from a signed tag, we\u0027re going to need to either get it from the hash or add it to the refstate that the merger returns and plumb it through.  But since i can \"git show tagsha\" and see the commit, I\u0027m optimistic that we should be able to get that directly from git here.",
      "revId": "66ad44a3152086f9e69354b75710287772581aab",
      "serverId": "4a232e18-c5a9-48ee-94c0-e04e7cca6543"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "e9cefc7b_06ffee5a",
        "filename": "zuul/merger/merger.py",
        "patchSetId": 1
      },
      "lineNbr": 1155,
      "author": {
        "id": 4146
      },
      "writtenOn": "2024-03-28T21:41:53Z",
      "side": 1,
      "message": "This appears to be the input datastructure for the above method that would determine if `refs[path]` is the tag object or referred to commit. But I\u0027m not sure what this projects dict contains.",
      "revId": "66ad44a3152086f9e69354b75710287772581aab",
      "serverId": "4a232e18-c5a9-48ee-94c0-e04e7cca6543"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "8f1a2fda_7373353d",
        "filename": "zuul/merger/merger.py",
        "patchSetId": 1
      },
      "lineNbr": 1155,
      "author": {
        "id": 4146
      },
      "writtenOn": "2024-03-28T22:42:41Z",
      "side": 1,
      "message": "Through some manual checking of zuul job workspace git state we\u0027ve confirmed that this appears produce ref paths that refer to the tag objects and not the commits the tags point to.",
      "parentUuid": "e9cefc7b_06ffee5a",
      "revId": "66ad44a3152086f9e69354b75710287772581aab",
      "serverId": "4a232e18-c5a9-48ee-94c0-e04e7cca6543"
    }
  ]
}