{
  "comments": [
    {
      "key": {
        "uuid": "4fde8123_715f2ec5",
        "filename": "releasenotes/notes/github-api-token-6070169c0d7dd1e2.yaml",
        "patchSetId": 8
      },
      "lineNbr": 4,
      "author": {
        "id": 16068
      },
      "writtenOn": "2021-06-07T10:59:34Z",
      "side": 1,
      "message": "I think \u0027should\u0027 is too strong here since this only affects the use case where we had anonymous access to projects. I think we should emphasize that this is optional and only required to access projects that are not under control of zuul.",
      "revId": "c1c30c43d7099eea6fec7b5683e97b347661eb1f",
      "serverId": "4a232e18-c5a9-48ee-94c0-e04e7cca6543",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "2292d9bb_bdf8d537",
        "filename": "tests/fixtures/zuul-push-reqs.conf",
        "patchSetId": 8
      },
      "lineNbr": 18,
      "author": {
        "id": 16068
      },
      "writtenOn": "2021-06-07T10:59:34Z",
      "side": 1,
      "message": "Is this added to every test github connection in the test fixtures? Since the api_token must stay optional (and many deployments won\u0027t add an api token) this should be added to only a few of them (or a specific one to test the fallback).",
      "revId": "c1c30c43d7099eea6fec7b5683e97b347661eb1f",
      "serverId": "4a232e18-c5a9-48ee-94c0-e04e7cca6543",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "3e3c6716_7496a1df",
        "filename": "zuul/driver/github/githubconnection.py",
        "patchSetId": 8
      },
      "lineNbr": 988,
      "author": {
        "id": 16068
      },
      "writtenOn": "2021-06-07T10:59:34Z",
      "side": 1,
      "message": "Actually if we have a deployment that is (intentionally) not using an api token this is indeed an error that should be logged as error. I think we may want to switch based on the config here.",
      "revId": "c1c30c43d7099eea6fec7b5683e97b347661eb1f",
      "serverId": "4a232e18-c5a9-48ee-94c0-e04e7cca6543",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "b4272d20_d61bcab0",
        "filename": "zuul/driver/github/githubconnection.py",
        "patchSetId": 8
      },
      "lineNbr": 988,
      "author": {
        "id": 7118
      },
      "writtenOn": "2021-06-07T12:48:35Z",
      "side": 1,
      "message": "So are you suggesting we add something like \n\n allow_unmamaged_projects\u003dTrue/False\n\nIn the driver config?  If that is true and we don\u0027t have and api key we raise the failure, if False, then not being installed is also an error and we have to fail if there\u0027s no installation is?",
      "parentUuid": "3e3c6716_7496a1df",
      "revId": "c1c30c43d7099eea6fec7b5683e97b347661eb1f",
      "serverId": "4a232e18-c5a9-48ee-94c0-e04e7cca6543",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "854229d3_856ee61c",
        "filename": "zuul/driver/github/githubconnection.py",
        "patchSetId": 8
      },
      "lineNbr": 988,
      "author": {
        "id": 1
      },
      "writtenOn": "2021-06-07T13:38:17Z",
      "side": 1,
      "message": "Let\u0027s not add a config option for that; we try to keep their number to a minmum.  Instead, let\u0027s log this as error if there is no token, and info if there is.",
      "revId": "c1c30c43d7099eea6fec7b5683e97b347661eb1f",
      "serverId": "4a232e18-c5a9-48ee-94c0-e04e7cca6543",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "afcc14a4_ab57e134",
        "filename": "zuul/driver/github/githubconnection.py",
        "patchSetId": 8
      },
      "lineNbr": 988,
      "author": {
        "id": 16068
      },
      "writtenOn": "2021-06-08T06:15:04Z",
      "side": 1,
      "message": "Yeah, that\u0027s what I meant, info if there is a token, error if not.",
      "parentUuid": "854229d3_856ee61c",
      "revId": "c1c30c43d7099eea6fec7b5683e97b347661eb1f",
      "serverId": "4a232e18-c5a9-48ee-94c0-e04e7cca6543",
      "unresolved": true
    }
  ]
}