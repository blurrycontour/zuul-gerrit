{
  "comments": [
    {
      "key": {
        "uuid": "ff570b3c_8287a9b5",
        "filename": "zuul/driver/gitlab/gitlabconnection.py",
        "patchSetId": 1
      },
      "lineNbr": 209,
      "author": {
        "id": 25403
      },
      "writtenOn": "2020-05-17T15:25:23Z",
      "side": 1,
      "message": "What are the advantages of using the \u0027PRIVATE-TOKEN\u0027 header ? \n\nI don\u0027t why one would use this kind of token instead of personal access tokens but OAuth2 tokens (\"Resource owner password credentials flow\") can be used with \u0027Authorization\u0027 header. They don\u0027t work with \u0027PRIVATE-TOKEN\u0027 header.",
      "revId": "e743c33181395caf1fc424941baa7250642705aa",
      "serverId": "4a232e18-c5a9-48ee-94c0-e04e7cca6543",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "ff570b3c_62441575",
        "filename": "zuul/driver/gitlab/gitlabconnection.py",
        "patchSetId": 1
      },
      "lineNbr": 209,
      "author": {
        "id": 30176
      },
      "writtenOn": "2020-05-17T15:57:27Z",
      "side": 1,
      "message": "For me it was not clear how to get it working Authorization  Bearer token. So after trial and error I got this working. Maybe I did something wrong.",
      "parentUuid": "ff570b3c_8287a9b5",
      "revId": "e743c33181395caf1fc424941baa7250642705aa",
      "serverId": "4a232e18-c5a9-48ee-94c0-e04e7cca6543",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "ff570b3c_d5a95d24",
        "filename": "zuul/driver/gitlab/gitlabconnection.py",
        "patchSetId": 1
      },
      "lineNbr": 209,
      "author": {
        "id": 25403
      },
      "writtenOn": "2020-05-17T19:22:52Z",
      "side": 1,
      "message": "Did you try to use a \"personal access token\" (https://docs.gitlab.com/ee/user/profile/personal_access_tokens.html) with the \"API\" scope enabled ?",
      "parentUuid": "ff570b3c_62441575",
      "revId": "e743c33181395caf1fc424941baa7250642705aa",
      "serverId": "4a232e18-c5a9-48ee-94c0-e04e7cca6543",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "ff570b3c_f552a13a",
        "filename": "zuul/driver/gitlab/gitlabconnection.py",
        "patchSetId": 1
      },
      "lineNbr": 209,
      "author": {
        "id": 30176
      },
      "writtenOn": "2020-05-17T19:33:43Z",
      "side": 1,
      "message": "This is what i\u0027m using now. When I try it with the \"OAuth-compliant header\" I get a \"401 Unauthorized\" When I use the Private-Token I can login. On https://docs.gitlab.com/ee/api/README.html#personalproject-access-tokens says it should work, but it is not.",
      "parentUuid": "ff570b3c_d5a95d24",
      "revId": "e743c33181395caf1fc424941baa7250642705aa",
      "serverId": "4a232e18-c5a9-48ee-94c0-e04e7cca6543",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "ff570b3c_d89cf46b",
        "filename": "zuul/driver/gitlab/gitlabconnection.py",
        "patchSetId": 1
      },
      "lineNbr": 209,
      "author": {
        "id": 25403
      },
      "writtenOn": "2020-05-17T20:25:27Z",
      "side": 1,
      "message": "I don\u0027t encounter this issue :-/\nBoth commands work with a personal access token:\n- curl --header \"Private-Token: \u003cyour_access_token\u003e\" https://gitlab.com/api/v4/projects\n- curl https://gitlab.com/api/v4/projects?private_token\u003d\u003cmy_access_token\u003e\n\nAre you using gitlab.com or another instance ?",
      "parentUuid": "ff570b3c_f552a13a",
      "revId": "e743c33181395caf1fc424941baa7250642705aa",
      "serverId": "4a232e18-c5a9-48ee-94c0-e04e7cca6543",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "ff570b3c_c0c34e88",
        "filename": "zuul/driver/gitlab/gitlabconnection.py",
        "patchSetId": 1
      },
      "lineNbr": 209,
      "author": {
        "id": 30176
      },
      "writtenOn": "2020-05-18T13:30:09Z",
      "side": 1,
      "message": "Both are working fine.\n\nBut when I use:\ncurl --header \"Authorization: Bearer \u003cyour_access_token\u003e\" https://gitlab.example.com/api/v4/projects\n\nI get a \u0027401 Unauthorized\u0027, that is why I changed the code.\n\nWe use an private gitlab instance.",
      "parentUuid": "ff570b3c_d89cf46b",
      "revId": "e743c33181395caf1fc424941baa7250642705aa",
      "serverId": "4a232e18-c5a9-48ee-94c0-e04e7cca6543",
      "unresolved": false
    }
  ]
}