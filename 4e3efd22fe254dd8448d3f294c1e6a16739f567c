{
  "comments": [
    {
      "key": {
        "uuid": "dada55a8_86e21b9e",
        "filename": "zuul/merger/merger.py",
        "patchSetId": 5
      },
      "lineNbr": 363,
      "author": {
        "id": 7069
      },
      "writtenOn": "2016-07-18T07:06:04Z",
      "side": 1,
      "message": "Probably a nit, but I\u0027m not a huge fan of returning two different types.\n\nWhy not leave this method alone and implement a new method (that calls this one) for returning files?",
      "revId": "4e3efd22fe254dd8448d3f294c1e6a16739f567c",
      "serverId": "4a232e18-c5a9-48ee-94c0-e04e7cca6543",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "dada55a8_071d6973",
        "filename": "zuul/merger/merger.py",
        "patchSetId": 5
      },
      "lineNbr": 363,
      "author": {
        "id": 1
      },
      "writtenOn": "2016-07-18T16:47:43Z",
      "side": 1,
      "message": "This one as originally written loses the data needed for files, so we\u0027d have to do it the other way around.  I\u0027m not seeing a clean way to satisfy your objection, but maybe I\u0027m not seeing the whole picture -- perhaps you could propose a cleanup in a followup change?",
      "revId": "4e3efd22fe254dd8448d3f294c1e6a16739f567c",
      "serverId": "4a232e18-c5a9-48ee-94c0-e04e7cca6543",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "dada55a8_741e6864",
        "filename": "zuul/merger/merger.py",
        "patchSetId": 5
      },
      "lineNbr": 363,
      "author": {
        "id": 7069
      },
      "writtenOn": "2016-07-19T13:58:49Z",
      "side": 1,
      "message": "I see your point.\n\nI just noticed that despite merging multiple items this only returns one commit. This function needs a fair bit of tidying up.\n\nI\u0027ve had a go at it here but the solution isn\u0027t perfect: https://review.openstack.org/344248",
      "parentUuid": "dada55a8_071d6973",
      "revId": "4e3efd22fe254dd8448d3f294c1e6a16739f567c",
      "serverId": "4a232e18-c5a9-48ee-94c0-e04e7cca6543",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "dada55a8_a6fc7f3f",
        "filename": "zuul/merger/server.py",
        "patchSetId": 5
      },
      "lineNbr": 109,
      "author": {
        "id": 7069
      },
      "writtenOn": "2016-07-18T07:06:04Z",
      "side": 1,
      "message": "this is all a bit icky to me (see previous comment)",
      "revId": "4e3efd22fe254dd8448d3f294c1e6a16739f567c",
      "serverId": "4a232e18-c5a9-48ee-94c0-e04e7cca6543",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "dada55a8_269fef04",
        "filename": "zuul/model.py",
        "patchSetId": 5
      },
      "lineNbr": 150,
      "author": {
        "id": 7069
      },
      "writtenOn": "2016-07-18T07:06:04Z",
      "side": 1,
      "message": "Yes, that feels more appropriate.",
      "range": {
        "startLine": 150,
        "startChar": 22,
        "endLine": 150,
        "endChar": 26
      },
      "revId": "4e3efd22fe254dd8448d3f294c1e6a16739f567c",
      "serverId": "4a232e18-c5a9-48ee-94c0-e04e7cca6543",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "dada55a8_26440f73",
        "filename": "zuul/model.py",
        "patchSetId": 5
      },
      "lineNbr": 668,
      "author": {
        "id": 7069
      },
      "writtenOn": "2016-07-18T07:06:04Z",
      "side": 1,
      "message": "(nit) For the future we should consider some kind of cache management such as writing these to disk or storing elsewhere other than memory. Maybe also some timeouts and garbage collection. Basically I\u0027m concerned about the potential growth of these files across 1,000+ repos.",
      "revId": "4e3efd22fe254dd8448d3f294c1e6a16739f567c",
      "serverId": "4a232e18-c5a9-48ee-94c0-e04e7cca6543",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "dada55a8_c72cf1ad",
        "filename": "zuul/model.py",
        "patchSetId": 5
      },
      "lineNbr": 668,
      "author": {
        "id": 1
      },
      "writtenOn": "2016-07-18T16:47:43Z",
      "side": 1,
      "message": "As it stands right now, this is a transient object that only exists when we decide that we need to load some configuration, so it\u0027s not going to become a memory hog.  We may need to cache some of this stuff more heavily, at which point that may become more of an issue.",
      "revId": "4e3efd22fe254dd8448d3f294c1e6a16739f567c",
      "serverId": "4a232e18-c5a9-48ee-94c0-e04e7cca6543",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "dada55a8_8655fb1e",
        "filename": "zuul/model.py",
        "patchSetId": 5
      },
      "lineNbr": 786,
      "author": {
        "id": 7069
      },
      "writtenOn": "2016-07-18T07:06:04Z",
      "side": 1,
      "message": "I like the term shadow layout. We should consider that name for this attribute.",
      "revId": "4e3efd22fe254dd8448d3f294c1e6a16739f567c",
      "serverId": "4a232e18-c5a9-48ee-94c0-e04e7cca6543",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "dada55a8_27186d84",
        "filename": "zuul/model.py",
        "patchSetId": 5
      },
      "lineNbr": 786,
      "author": {
        "id": 1
      },
      "writtenOn": "2016-07-18T16:47:43Z",
      "side": 1,
      "message": "Yeah, maybe so.",
      "revId": "4e3efd22fe254dd8448d3f294c1e6a16739f567c",
      "serverId": "4a232e18-c5a9-48ee-94c0-e04e7cca6543",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "dada55a8_61af11e4",
        "filename": "zuul/scheduler.py",
        "patchSetId": 5
      },
      "lineNbr": 614,
      "author": {
        "id": 7069
      },
      "writtenOn": "2016-07-18T07:06:04Z",
      "side": 1,
      "message": "why not return immediately here... Is it just so we catch the debug on line 619 below? If so, we aren\u0027t debugging which mergers are outstanding themselves.",
      "range": {
        "startLine": 614,
        "startChar": 12,
        "endLine": 614,
        "endChar": 19
      },
      "revId": "4e3efd22fe254dd8448d3f294c1e6a16739f567c",
      "serverId": "4a232e18-c5a9-48ee-94c0-e04e7cca6543",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "dada55a8_67126564",
        "filename": "zuul/scheduler.py",
        "patchSetId": 5
      },
      "lineNbr": 614,
      "author": {
        "id": 1
      },
      "writtenOn": "2016-07-18T16:47:43Z",
      "side": 1,
      "message": "That\u0027s a good point, we should probably debug here then return.",
      "revId": "4e3efd22fe254dd8448d3f294c1e6a16739f567c",
      "serverId": "4a232e18-c5a9-48ee-94c0-e04e7cca6543",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "dada55a8_41ac8ded",
        "filename": "zuul/scheduler.py",
        "patchSetId": 5
      },
      "lineNbr": 621,
      "author": {
        "id": 7069
      },
      "writtenOn": "2016-07-18T07:06:04Z",
      "side": 1,
      "message": "(nit) we could break here for similar reasons as previous comment",
      "range": {
        "startLine": 621,
        "startChar": 24,
        "endLine": 621,
        "endChar": 31
      },
      "revId": "4e3efd22fe254dd8448d3f294c1e6a16739f567c",
      "serverId": "4a232e18-c5a9-48ee-94c0-e04e7cca6543",
      "unresolved": false
    }
  ]
}