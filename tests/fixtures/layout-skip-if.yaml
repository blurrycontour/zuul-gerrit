pipelines:
  - name: check
    manager: IndependentPipelineManager
    trigger:
      gerrit:
        - event: patchset-created
    success:
      gerrit:
        verified: 1
    failure:
      gerrit:
        verified: -1


jobs:
  - name: project-test-skip-if
    skip-if:
      - project: ^org/project$
        branch: ^mp$
        all-files-match:
          - ^skip-project-branch$
          - ^README$
      - project: ^org/project1$
        all-files-match:
          - ^skip-project$
          - ^README$
      - all-files-match:
          - ^.*\.skip-ext$
          - ^README$

projects:
  - name: org/project
    check:
      - project-test-skip-if

  - name: org/project1
    check:
      - project-test-skip-if
