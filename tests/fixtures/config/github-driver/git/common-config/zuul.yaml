- pipeline:
    name: check
    description: Standard check
    manager: independent
    source:
      github
    trigger:
      github:
        - event:
            - pr-open
            - pr-change
            - pr-reopen
        - event: pr-comment
          comment: 'test me'
    start:
      github:
        status: true
    success:
      github:
        status: true
        comment: true
    failure:
      github:
        status: true
        comment: true

- pipeline:
    name: reporting
    description: Uncommon reporting
    manager: independent
    source:
      github
    trigger:
      github:
        - event: pr-comment
          comment: 'reporting check'
    start:
      github:
        comment: true
    success:
      github:
        comment: false
    failure:
      github:
        comment: false

- pipeline:
    name: merge
    description: Pipeline for merging the pull request
    manager: independent
    source:
      github
    trigger:
      github:
        - event: pr-comment
          comment: 'merge me'
    success:
      github:
        merge: true

- pipeline:
    name: labels
    description: Trigger on labels
    manager: independent
    source:
      github
    trigger:
      github:
        - event: pr-label
          label:
            - 'test'
            - '-do not test'
    success:
      github:
        label:
          - 'tests passed'
          - '-test'

- pipeline:
    name: post
    manager: independent
    source:
      github
    trigger:
      github:
        - event: push

- pipeline:
    name: tag
    manager: independent
    source:
      github
    trigger:
      github:
        - event: tag

- job:
    name: project-test1
- job:
    name: project-test2
- job:
    name: project-post
- job:
    name: project-tag
- job:
    name: project-labels

- project:
    name: org/project
    check:
      jobs:
        - project-test1
        - project-test2
    merge:
      jobs:
        - noop
    post:
      jobs:
        - project-post
    tag:
      jobs:
        - project-tag
    reporting:
      jobs:
        - project-test1
    labels:
      jobs:
        - project-labels
