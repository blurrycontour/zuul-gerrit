- pipeline:
    name: check
    manager: independent
    post-review: true
    trigger:
      gerrit:
        - event: patchset-created
    success:
      gerrit:
        Verified: 1
    failure:
      gerrit:
        Verified: -1

- nodeset:
    name: nodeset1
    nodes:
      - name: controller
        label: controller-label
      - name: compute1
        label: compute-label
      - name: compute2
        label: compute-label
    groups:
      - name: ceph-osd
        nodes:
          - controller
      - name: ceph-monitor
        nodes:
          - controller
          - compute1
          - compute2

- nodeset:
    name: nodeset2
    nodes:
      - name: default
        label: default-label
      - name: fakeuser
        label: fakeuser-label
      - name: fakepassword
        label: fakepassword-label
      - name: windows
        label: windows-label

- job:
    name: base
    parent: null

- job:
    name: single-inventory
    nodes:
      - name: ubuntu-xenial
        label: ubuntu-xenial

- job:
    name: group-inventory
    nodes: nodeset1

- job:
    name: hostvars-inventory
    nodes: nodeset2
