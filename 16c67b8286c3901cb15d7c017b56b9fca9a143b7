{
  "comments": [
    {
      "key": {
        "uuid": "bfb3d3c7_2604167b",
        "filename": "zuul/manager/__init__.py",
        "patchSetId": 1
      },
      "lineNbr": 689,
      "author": {
        "id": 9311
      },
      "writtenOn": "2019-05-23T02:31:31Z",
      "side": 1,
      "message": "This should be `all(map` if we want that behavior to only happens for pipelines that only has timer trigger.",
      "range": {
        "startLine": 689,
        "startChar": 54,
        "endLine": 689,
        "endChar": 64
      },
      "revId": "16c67b8286c3901cb15d7c017b56b9fca9a143b7",
      "serverId": "4a232e18-c5a9-48ee-94c0-e04e7cca6543",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "bfb3d3c7_73570028",
        "filename": "zuul/manager/__init__.py",
        "patchSetId": 1
      },
      "lineNbr": 689,
      "author": {
        "id": 4162
      },
      "writtenOn": "2019-05-25T14:18:20Z",
      "side": 1,
      "message": "for now, timer triggers is the use case I\u0027m dealing with. Which other pipelines do you have in mind?",
      "parentUuid": "bfb3d3c7_2604167b",
      "range": {
        "startLine": 689,
        "startChar": 54,
        "endLine": 689,
        "endChar": 64
      },
      "revId": "16c67b8286c3901cb15d7c017b56b9fca9a143b7",
      "serverId": "4a232e18-c5a9-48ee-94c0-e04e7cca6543",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "bfb3d3c7_9e3ddbc5",
        "filename": "zuul/manager/__init__.py",
        "patchSetId": 1
      },
      "lineNbr": 689,
      "author": {
        "id": 5263
      },
      "writtenOn": "2019-05-25T14:43:16Z",
      "side": 1,
      "message": "Gerrit ref-updated events (like are used for merges to branches or pushes of tags) also lack a files list, if memory serves, so jobs with files matchers won\u0027t run for those triggers either.",
      "revId": "16c67b8286c3901cb15d7c017b56b9fca9a143b7",
      "serverId": "4a232e18-c5a9-48ee-94c0-e04e7cca6543",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "bfb3d3c7_5efbe345",
        "filename": "zuul/manager/__init__.py",
        "patchSetId": 1
      },
      "lineNbr": 689,
      "author": {
        "id": 9311
      },
      "writtenOn": "2019-05-25T23:45:22Z",
      "side": 1,
      "message": "When a pipeline has both a gerrit and timer trigger, then any(filter evaluates to True. Though now that the trigger event is attached to queue items, perhaps TriggerEvent we could have a \"skipFileMatcher()\" procedure that could be used here.",
      "parentUuid": "bfb3d3c7_9e3ddbc5",
      "revId": "16c67b8286c3901cb15d7c017b56b9fca9a143b7",
      "serverId": "4a232e18-c5a9-48ee-94c0-e04e7cca6543",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "bfb3d3c7_791601f4",
        "filename": "zuul/manager/__init__.py",
        "patchSetId": 1
      },
      "lineNbr": 689,
      "author": {
        "id": 16068
      },
      "writtenOn": "2019-05-26T07:19:55Z",
      "side": 1,
      "message": "Tristan is right, we shouldn\u0027t base this decision on the pipeline configuration but rather on the event.\n\nOne possibility could be to judge here based on the event type. But to me this feels wrong. The skip_file_matcher switch in freezeJobGraph was only introduced by the zuul runner changes so one could freeze a job graph independently. This was done before the event was part of the item but now with this additional use case it feels like a hack.\n\nI think it makes sense to forward the event (it is attached to the item) in \u0027Layout._createJobGraph\u0027 to \u0027Job.changeMatchesFiles\u0027 and do the filtering there based on the event or even push the event information to the matcher itself (which feels like the right place to me).",
      "parentUuid": "bfb3d3c7_5efbe345",
      "revId": "16c67b8286c3901cb15d7c017b56b9fca9a143b7",
      "serverId": "4a232e18-c5a9-48ee-94c0-e04e7cca6543",
      "unresolved": false
    }
  ]
}