Zuul Status
===========

Zuul Status is a web portal for a Zuul server.

Set up
------

The markup generated by the javascript is fairly generic so it should be easy
to drop into an existing portal. All it needs is
``<div id="id="zuul-container"></div>``.

Having said that, the markup is optimised for Twitter Bootstrap, though it in
no way depends on Boostrap and any element using a bootstrap class has a
``zuul-`` prefixed class alongside it.

The script depends on jQuery (tested with version 1.8 and 1.9).

The script optimises updates by stopping when the page is not visible.
This is done by listerning to ``show`` and ``hide`` events emitted by the
Page Visibility plugin for jQuery. If you don't want to load this plugin you
can undo undo this optimisation by removing the 9 lines using this on the
bottom of ``app.js``

The dependencies are all managed by npm and bower.

Prerequisites: Quick build/CI
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

* Xvfb
* GCC 4.2 or newer
* Python 2.6 or 2.7
* GNU Make 3.81 or newer
* libexecinfo (FreeBSD and OpenBSD only)

Prerequisites: Dev
~~~~~~~~~~~~~~~~~~

* tox

or

* NodeJS 0.10.24 or newer
* Grunt 0.4.2
* bower 1.2.8

Use tox
~~~~~~~

**Run the test suite**

* `tox -enode`

**Run a local development server**

* `tox -enode server`

**Package the distro**

* `tox -enode build`

Install and work with things more globally
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

**Install node and npm**

* `sudo apt-get install nodejs npm`

**Install grunt and bower globall**

* `sudo npm install -g grunt-cli bower`

**Install dev and build needs locally in the build directory**

* `npm prune`
* `npm install`
* `bower prune`
* `bower install`

**Run a local development server**

`grunt server`

**Run the test suite**

`grunt test`

**Package the distro**

`grunt build`
