{
  "comments": [
    {
      "key": {
        "uuid": "04f2ee59_3b2fce68",
        "filename": "tests/unit/test_event_queues.py",
        "patchSetId": 8
      },
      "lineNbr": 468,
      "author": {
        "id": 1
      },
      "writtenOn": "2021-03-24T18:18:26Z",
      "side": 1,
      "message": "Should we add an election test?",
      "revId": "1ef47dbbd28c206110a7154d9dc6dd42d4af1c5f",
      "serverId": "4a232e18-c5a9-48ee-94c0-e04e7cca6543",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "3ebad27f_4e3d7c10",
        "filename": "tests/unit/test_event_queues.py",
        "patchSetId": 8
      },
      "lineNbr": 468,
      "author": {
        "id": 1
      },
      "writtenOn": "2021-03-24T20:04:10Z",
      "side": 1,
      "message": "The next patch at least exercises the election; and I think we can assume it works as advertised, so we can probably omit this.  Once we have multiple schedulers it might be a good time to add a test then (because we\u0027d be testing Zuul, not kazoo).",
      "revId": "1ef47dbbd28c206110a7154d9dc6dd42d4af1c5f",
      "serverId": "4a232e18-c5a9-48ee-94c0-e04e7cca6543",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "c8665bd5_9cdfb1ca",
        "filename": "zuul/zk/event_queues.py",
        "patchSetId": 8
      },
      "lineNbr": 185,
      "author": {
        "id": 16068
      },
      "writtenOn": "2021-03-24T21:37:21Z",
      "side": 1,
      "message": "Is this meant to be __iter__ instead given the class inherits from Iterable which indicates that __iter__ does exist?\n\nSo I think we either should remove Iterable or rename this to __iter__ and use this class directly as iterator.",
      "revId": "1ef47dbbd28c206110a7154d9dc6dd42d4af1c5f",
      "serverId": "4a232e18-c5a9-48ee-94c0-e04e7cca6543",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "42141809_cc427b0f",
        "filename": "zuul/zk/event_queues.py",
        "patchSetId": 8
      },
      "lineNbr": 185,
      "author": {
        "id": 27582
      },
      "writtenOn": "2021-03-25T07:27:18Z",
      "side": 1,
      "message": "Iterable is the abstract base class that has __iter__() as abstract method. We could add __iter__ again as @abstractmethod here to make it clear that ZooKeeperEventQueue is an ABC. \nThe _iterEvents() method implements common logic that is then used by the concrete implementations. The __iter__ method is implementation dependent and can\u0027t be implemented. here.",
      "parentUuid": "c8665bd5_9cdfb1ca",
      "revId": "1ef47dbbd28c206110a7154d9dc6dd42d4af1c5f",
      "serverId": "4a232e18-c5a9-48ee-94c0-e04e7cca6543",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "0abe3d8c_7cb0f0ce",
        "filename": "zuul/zk/event_queues.py",
        "patchSetId": 8
      },
      "lineNbr": 185,
      "author": {
        "id": 27582
      },
      "writtenOn": "2021-03-25T07:37:53Z",
      "side": 1,
      "message": "We could rename this to __iter__ and then do the following in the derived classes:\n\n    for data, ack_ref in super().__iter__():\n        ...\n\nHowever, I would prefer not to do that as then the ZooKeeperEventQueue is not an ABC anymore.",
      "parentUuid": "42141809_cc427b0f",
      "revId": "1ef47dbbd28c206110a7154d9dc6dd42d4af1c5f",
      "serverId": "4a232e18-c5a9-48ee-94c0-e04e7cca6543",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "7d2d1434_3df21cd3",
        "filename": "zuul/zk/event_queues.py",
        "patchSetId": 8
      },
      "lineNbr": 569,
      "author": {
        "id": 16068
      },
      "writtenOn": "2021-03-24T21:37:21Z",
      "side": 1,
      "message": "For reference this uses ZooKeeperEventQueue as base class and has __iter__ which makes it a proper iterator.",
      "revId": "1ef47dbbd28c206110a7154d9dc6dd42d4af1c5f",
      "serverId": "4a232e18-c5a9-48ee-94c0-e04e7cca6543",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "3c156def_1edf1d7a",
        "filename": "zuul/zk/event_queues.py",
        "patchSetId": 8
      },
      "lineNbr": 569,
      "author": {
        "id": 27582
      },
      "writtenOn": "2021-03-25T07:27:18Z",
      "side": 1,
      "message": "Yep, same for the other event queue implementations.",
      "parentUuid": "7d2d1434_3df21cd3",
      "revId": "1ef47dbbd28c206110a7154d9dc6dd42d4af1c5f",
      "serverId": "4a232e18-c5a9-48ee-94c0-e04e7cca6543",
      "unresolved": true
    }
  ]
}