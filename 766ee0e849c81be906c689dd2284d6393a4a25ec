{
  "comments": [
    {
      "unresolved": true,
      "key": {
        "uuid": "2dd770ef_8715304f",
        "filename": "tests/fixtures/zuul-launcher-multi-region.conf",
        "patchSetId": 19
      },
      "lineNbr": 47,
      "author": {
        "id": 1
      },
      "writtenOn": "2024-10-09T20:25:58Z",
      "side": 1,
      "message": "I don\u0027t think it\u0027s relevant for this change, but this stands out since this isn\u0027t how I would expect this to be set up.\n\nNormally I\u0027d expect a single AWS connection with a single credential, and that credential has access to multiple regions.  Each region would be a section with the same connection.\n\nSince this is early work, I\u0027m a little worried about copy-pasta from this and people getting the idea that this is how you have multiple regions.  Is this necessary here, or can we put two sections on the same connection?",
      "revId": "766ee0e849c81be906c689dd2284d6393a4a25ec",
      "serverId": "4a232e18-c5a9-48ee-94c0-e04e7cca6543"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "f8212fde_3176f431",
        "filename": "tests/fixtures/zuul-launcher-multi-region.conf",
        "patchSetId": 19
      },
      "lineNbr": 47,
      "author": {
        "id": 1
      },
      "writtenOn": "2024-10-09T21:57:16Z",
      "side": 1,
      "message": "Take a look at https://review.opendev.org/c/zuul/zuul/+/931994 please.\n\nThat\u0027s what I was imagining, and I think it\u0027s better to use that for tests if we can.  If that\u0027s equivalent, I think we should go with that; if it isn\u0027t, then I may still be missing something in my understanding.",
      "parentUuid": "2dd770ef_8715304f",
      "revId": "766ee0e849c81be906c689dd2284d6393a4a25ec",
      "serverId": "4a232e18-c5a9-48ee-94c0-e04e7cca6543"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "863eba38_5176419a",
        "filename": "tests/fixtures/zuul-launcher-multi-region.conf",
        "patchSetId": 19
      },
      "lineNbr": 47,
      "author": {
        "id": 27582
      },
      "writtenOn": "2024-10-10T09:23:27Z",
      "side": 1,
      "message": "Ack, I don\u0027t think we need a second AWS connection.",
      "parentUuid": "f8212fde_3176f431",
      "revId": "766ee0e849c81be906c689dd2284d6393a4a25ec",
      "serverId": "4a232e18-c5a9-48ee-94c0-e04e7cca6543"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "a09bc1d8_e4765de4",
        "filename": "zuul/launcher/server.py",
        "patchSetId": 19
      },
      "lineNbr": 381,
      "author": {
        "id": 1
      },
      "writtenOn": "2024-10-09T20:25:58Z",
      "side": 1,
      "message": "I\u0027d say \"assigned ready node\" since we will have ready nodes that are not the result of min-ready (nodes that were created for aborted jobs).",
      "revId": "766ee0e849c81be906c689dd2284d6393a4a25ec",
      "serverId": "4a232e18-c5a9-48ee-94c0-e04e7cca6543"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "4c4d3280_4ae5ddba",
        "filename": "zuul/launcher/server.py",
        "patchSetId": 19
      },
      "lineNbr": 381,
      "author": {
        "id": 1
      },
      "writtenOn": "2024-10-09T21:57:16Z",
      "side": 1,
      "message": "(I rolled this into my followup change 931994).",
      "parentUuid": "a09bc1d8_e4765de4",
      "revId": "766ee0e849c81be906c689dd2284d6393a4a25ec",
      "serverId": "4a232e18-c5a9-48ee-94c0-e04e7cca6543"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "516e2970_69cd8366",
        "filename": "zuul/launcher/server.py",
        "patchSetId": 19
      },
      "lineNbr": 381,
      "author": {
        "id": 27582
      },
      "writtenOn": "2024-10-10T09:23:27Z",
      "side": 1,
      "message": "Ack, that makes sense!",
      "parentUuid": "4c4d3280_4ae5ddba",
      "revId": "766ee0e849c81be906c689dd2284d6393a4a25ec",
      "serverId": "4a232e18-c5a9-48ee-94c0-e04e7cca6543"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "b9e117de_8c5ea479",
        "filename": "zuul/launcher/server.py",
        "patchSetId": 19
      },
      "lineNbr": 516,
      "author": {
        "id": 1
      },
      "writtenOn": "2024-10-09T20:25:58Z",
      "side": 1,
      "message": "These are nodes without a request *and* this launcher does not have a provider for it; so the idea is another launcher will handle that, right?\n\nI guess we would need a two-launcher test case to test this, right?  That\u0027s probably worth doing at some point (but probably doesn\u0027t have to happen in this change).",
      "revId": "766ee0e849c81be906c689dd2284d6393a4a25ec",
      "serverId": "4a232e18-c5a9-48ee-94c0-e04e7cca6543"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "ca8743aa_720c88df",
        "filename": "zuul/launcher/server.py",
        "patchSetId": 19
      },
      "lineNbr": 516,
      "author": {
        "id": 27582
      },
      "writtenOn": "2024-10-10T09:23:27Z",
      "side": 1,
      "message": "We expect all launchers to have a complete view of all providers. So when we can not find a provider, this means that the label config changed and we no longer have a provider that\u0027s using this particular label config.\n\nSince we won\u0027t be able to use nodes with an outdated label config we mark them for cleanup.\n\nHaving said that, I\u0027m wondering if we need to make sure our local provider layouts are up-to-date. Otherwise there might be race-conditions when a launcher already updated to a newer provider, created min-ready nodes and the launcher processing such a min-ready node can\u0027t find a matching provider yet.",
      "parentUuid": "b9e117de_8c5ea479",
      "revId": "766ee0e849c81be906c689dd2284d6393a4a25ec",
      "serverId": "4a232e18-c5a9-48ee-94c0-e04e7cca6543"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "3d6c3762_2cf7bb4d",
        "filename": "zuul/launcher/server.py",
        "patchSetId": 19
      },
      "lineNbr": 516,
      "author": {
        "id": 1
      },
      "writtenOn": "2024-10-15T15:43:09Z",
      "side": 1,
      "message": "So \"OUTDATED\" means \"human must deal with this\"?\n\nYour second point does indeed sound like a hole we should close.",
      "parentUuid": "ca8743aa_720c88df",
      "revId": "766ee0e849c81be906c689dd2284d6393a4a25ec",
      "serverId": "4a232e18-c5a9-48ee-94c0-e04e7cca6543"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "59f80ba1_2fcfb1db",
        "filename": "zuul/launcher/server.py",
        "patchSetId": 19
      },
      "lineNbr": 516,
      "author": {
        "id": 1
      },
      "writtenOn": "2024-10-15T15:48:57Z",
      "side": 1,
      "message": "Second point fixed in https://review.opendev.org/c/zuul/zuul/+/932179",
      "parentUuid": "3d6c3762_2cf7bb4d",
      "revId": "766ee0e849c81be906c689dd2284d6393a4a25ec",
      "serverId": "4a232e18-c5a9-48ee-94c0-e04e7cca6543"
    }
  ]
}