- job:
    name: base
    pre-run: base-pre
    post-run: base-post
    success-url: http://zuulv3-dev.openstack.org/logs/{build.uuid}/
    failure-url: http://zuulv3-dev.openstack.org/logs/{build.uuid}/
    timeout: 1800
    nodes:
      - name: ubuntu-xenial
        image: ubuntu-xenial

- job:
    name: tox
    parent: base
    pre-run: tox-pre
    run: tox
    post-run: tox-post

- job:
    name: tox-cover
    parent: tox
    vars:
      run_tox_envlist: cover
    voting: false

- job:
    name: tox-linters
    parent: tox
    vars:
      run_tox_envlist: pep8

- job:
    name: tox-py27
    parent: tox
    vars:
      run_tox_envlist: py27

- project:
    name: openstack-infra/zuul
    check:
      jobs:
        - tox-cover
        - tox-linters
        - tox-py27
