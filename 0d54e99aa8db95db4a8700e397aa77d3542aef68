{
  "comments": [
    {
      "key": {
        "uuid": "3a29b11f_37edd58e",
        "filename": "zuul/scheduler.py",
        "patchSetId": 5
      },
      "lineNbr": 1120,
      "author": {
        "id": 15215
      },
      "writtenOn": "2015-10-25T13:20:42Z",
      "side": 1,
      "message": "I\u0027d move formatting the start message to the reporter as well. It will simplify the interface, message will be never sent to reporter from outside. Reporter then can decide how to format the start action report.\n\nThen you can either have the BaseReporter format the default message and pass it to the report function of the specific reporter class. Or you can leave it as is, ie. just provide the generic _formatItemReport in BaseReporter for specific reporters to use (or not).",
      "revId": "0d54e99aa8db95db4a8700e397aa77d3542aef68",
      "serverId": "4a232e18-c5a9-48ee-94c0-e04e7cca6543",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "3a29b11f_dbe6ee43",
        "filename": "zuul/scheduler.py",
        "patchSetId": 5
      },
      "lineNbr": 1120,
      "author": {
        "id": 7069
      },
      "writtenOn": "2015-10-27T02:23:18Z",
      "side": 1,
      "message": "The message string is passed along for the reporter to decide what to do. However, what type of report is being done might be useful for them to know. As such I\u0027ve added that in a future change.",
      "parentUuid": "3a29b11f_37edd58e",
      "revId": "0d54e99aa8db95db4a8700e397aa77d3542aef68",
      "serverId": "4a232e18-c5a9-48ee-94c0-e04e7cca6543",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "1a26ad4f_078d2631",
        "filename": "zuul/scheduler.py",
        "patchSetId": 5
      },
      "lineNbr": 1120,
      "author": {
        "id": 15215
      },
      "writtenOn": "2015-10-27T09:32:26Z",
      "side": 1,
      "message": "The message is passed from here only when reporting start. For other actions, it\u0027s constructed in every reporter which needs it. My point was to construct the messages in one place consistently. As you\u0027re moving the message formatting to reporters, the default message for the start action should be constructed in the reporter too.\n\nPerhaps more obvious from function signatures:\n BasePipelineManager.sendReport(action_reporters, source, item)\n # calls BaseReporter.sendReport(source, self.pipeline, item)\n\n BaseReporter.sendReport(source, pipeline, item)\n # this is a new function, to be used from outside reporter\n # calls BaseReporter._formatItemReport(pipeline, item)\n # then calls BaseReporter.report(source, pipeline, item, default_message)\n\n BaseReporter.report(source, pipeline, item, default_message)\n # To be overriden by specific reporters. They can either use the default message, or construct their own.",
      "parentUuid": "3a29b11f_dbe6ee43",
      "revId": "0d54e99aa8db95db4a8700e397aa77d3542aef68",
      "serverId": "4a232e18-c5a9-48ee-94c0-e04e7cca6543",
      "unresolved": false
    }
  ]
}